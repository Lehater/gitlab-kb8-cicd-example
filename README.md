## Описание

В этом задании вы создадите полноценный CI/CD конвейер с использованием GitLab и Kubernetes.
Вы настроите автоматическое развертывание приложения на кластер Kubernetes при каждом коммите в репозиторий GitLab.
Это задание поможет вам понять, как интегрировать системы управления версиями с оркестрацией контейнеров для
автоматизации процесса разработки и развертывания.

## Шаги выполнения

### Подготовка окружения.

- Настройте Kubernetes кластер (например, Minikube для локальной разработки).
- Установите и настройте kubectl для управления кластером Kubernetes.
- Выберите проект, который будете билдить и деплоить в кластер Kubernetes при помощи Gitlab.

### Установка GitLab Kubernetes Agent.

- Установите GitLab Kubernetes Agent в ваш Kubernetes кластер.
    - Это позволит GitLab взаимодействовать с вашим кластером
      напрямую.

### Создание проекта и добавление приложения.

- Создайте новый проект в GitLab и добавьте код вашего приложения.
- В корне репозитория создайте файл Dockerfile для сборки Docker образа вашего приложения.

### Создание Kubernetes манифестов.

- В репозитории создайте директорию k8s и добавьте туда манифесты для Deployment и Service.
- Создайте отдельные манифесты для различных окружений (staging и production).

### Настройка CI/CD конвейера в GitLab.

- В корне репозитория создайте файл .gitlab-ci.yml.
- Определите пайплайн с несколькими стадиями: build, test, deploy_staging, deploy_production.
- Настройте использование GitLab Kubernetes Agent для деплоя в Kubernetes.

### Сборка Docker-образа.

- Настройте стадию build, чтобы собирать Docker образ вашего приложения и загружать его в Docker Registry.
- Тегируйте образы в зависимости от ветки (latest для master и специфические теги для других веток).

### Настройка окружений в GitLab.

- Создайте два окружения в GitLab: staging и production.
- Настройте условия для стадий deploy_staging и deploy_production, чтобы развертывание происходило в соответствующие
  окружения в зависимости от ветки (например, развертывание в staging при коммите в ветку develop и в production при
  мерже
  в ветку master).

### Развертывание в Kubernetes с использованием GitLab Kubernetes Agent.

= Настройте стадии deploy_staging и deploy_production для применения Kubernetes манифестов на соответствующие окружения
с
использованием GitLab Kubernetes Agent.

## Ожидаемый результат

- Настроенный и успешно протестированный pipeline на GitLab с интеграцией Kubernetes.
- Отчет о выполненном задании сдайте в формате pdf.
    - В отчете следует отразить:
        - какой проект был выбран;
        - отразить успешное выполнение, каждого из шагов и непосредственно самого pipeline Gitlab (скриншоты —
          отражающие успешное выполнение шагов)
        - код файла ci-cd.yml;
        - код манифестов kubernetes.